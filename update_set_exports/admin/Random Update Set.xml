<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2022-01-27 22:27:43">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>Random Update Set</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>9ef569442f08411070123f96f699b6f8</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>tyler.parmelee</sys_created_by>
<sys_created_on>2022-01-27 22:27:42</sys_created_on>
<sys_id>fec1b6352f91011070123f96f699b6b2</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>tyler.parmelee</sys_updated_by>
<sys_updated_on>2022-01-27 22:27:42</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_definition_4a5cc8ff2f73301070123f96f699b6da</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_definition"><sys_ws_definition action="INSERT_OR_UPDATE"><active>true</active><base_uri>/api/352714/update_sets</base_uri><consumes>application/json,application/xml,text/xml</consumes><consumes_customized>false</consumes_customized><default_version>No active default version</default_version><doc_link/><enforce_acl>cf9d01d3e73003009d6247e603f6a990</enforce_acl><is_versioned>false</is_versioned><name>Update Sets</name><namespace>352714</namespace><produces>application/json,application/xml,text/xml</produces><produces_customized>false</produces_customized><service_id>update_sets</service_id><short_description>Adding a Short description</short_description><sys_class_name>sys_ws_definition</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2021-11-20 01:58:45</sys_created_on><sys_id>4a5cc8ff2f73301070123f96f699b6da</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Update Sets</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ws_definition_4a5cc8ff2f73301070123f96f699b6da</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2021-11-21 03:09:16</sys_updated_on></sys_ws_definition></record_update>]]></payload>
<payload_hash>-1826128821</payload_hash>
<remote_update_set display_value="Random Update Set">fec1b6352f91011070123f96f699b6b2</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>tyler.parmelee</sys_created_by>
<sys_created_on>2022-01-27 22:27:42</sys_created_on>
<sys_id>b2c1b6352f91011070123f96f699b6b3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d407829b10000001</sys_recorded_at>
<sys_updated_by>tyler.parmelee</sys_updated_by>
<sys_updated_on>2022-01-27 22:27:42</sys_updated_on>
<table/>
<target_name>Update Sets</target_name>
<type>Scripted REST API</type>
<update_domain>global</update_domain>
<update_guid>10262d44ce0841103d9fa56bdf296514</update_guid>
<update_guid_history>10262d44ce0841103d9fa56bdf296514:-1826128821,f16c0cff5e7330100d76e2350c86a38c:-1720228726</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_bf6c4cff2f73301070123f96f699b6a5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;Retrieve XML File&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var sys_id = request.body.data.sys_id;
	
	var updateSetGr = new GlideRecord('sys_update_set');
	if(updateSetGr.get(sys_id)) {
		var xmlString = sendXML(updateSetGr);
		var xmldoc = new XMLDocument(xmlString, true);
		response.setContentType('Application/xml');
		response.setBody(xmldoc);
	}

	function sendXML(record) {
		var updateSetExport = new UpdateSetExport();
		var sys_id = updateSetExport.exportUpdateSet(record);
		gs.log(sys_id);
		var response, responseBody, httpStatus; 

		var r = new sn_ws.RESTMessageV2();
		r.setEndpoint("https://dev103056.service-now.com/export_update_set.do?sysparm_sys_id=" + sys_id);
		r.setRequestHeader('Content-Type', 'Application/json');
		r.setRequestHeader('Accept', 'Application/xml');
		r.setHttpMethod("get");
		r.setBasicAuth("tyler.parmelee","password123");

		response = r.execute();
		responseBody = response.getBody();
		httpStatus = response.getStatusCode();

		if(httpStatus != '200') {
			gs.log('HTTP Status: ' + httpStatus);
		} else {
			return responseBody;
		}
	}

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/352714/update_sets/get_xml&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/get_xml&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description&gt;Retrieve Exporting XML File&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-20 02:08:39&lt;/sys_created_on&gt;&lt;sys_id&gt;bf6c4cff2f73301070123f96f699b6a5&lt;/sys_id&gt;&lt;sys_mod_count&gt;54&lt;/sys_mod_count&gt;&lt;sys_name&gt;Retrieve XML File&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_bf6c4cff2f73301070123f96f699b6a5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-21 03:09:31&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="Update Sets"&gt;4a5cc8ff2f73301070123f96f699b6da&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-721551078</payload_hash>
<remote_update_set display_value="Random Update Set">fec1b6352f91011070123f96f699b6b2</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>tyler.parmelee</sys_created_by>
<sys_created_on>2022-01-27 22:27:42</sys_created_on>
<sys_id>bac1b6352f91011070123f96f699b6b3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d407865670000001</sys_recorded_at>
<sys_updated_by>tyler.parmelee</sys_updated_by>
<sys_updated_on>2022-01-27 22:27:42</sys_updated_on>
<table/>
<target_name>Retrieve XML File</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>40362d4486084110cf8f763cf22949ea</update_guid>
<update_guid_history>40362d4486084110cf8f763cf22949ea:-721551078,db84a104a5084110ff41a670c082b2cc:-810589900,3564e9c0000841104c61c88b05c93cae:347166627,b8f369c09b0841100f36091537a5af63:1069443020,9cd3e5c0ab084110d778bbc408795dad:374244864,a1b3e5c09b0841101381345de929ed53:351194668,6503e98013084110f2a0cde3ad632d8a:144673606,0db2a1808c084110462bd00c409881e6:-611100400,23522180210841109a956f48305b96ce:1069443020,60022d40d00841107cec4de95847b5c3:1930121600,45f12d40f20841104e3eca3143fc0146:-538093644,7fa16900e2084110d4fb507afec5c24c:164208547,9b67510871c44110a678c3582f50621f:1196085573,4757ddc4dcc4411056e4f02254b2b45a:2001696322,31f0d7ff1cff3010fcfd22b73bc07efc:-1038013092,b65057ff20ff301046cc2f0f7b7cbafa:1941157778,1d6f4b7f5fff3010a8945a04f8007ac7:-1265607325,3a1e077f47ff3010d0f26db2f0d1eef0:1937435659,51ed837f08ff3010e220fdfb9d4a08be:-1298411351,a86dc33f43ff301045dd4431642c36d2:-295754607,b5dc833f34ff3010171b14788823872f:-1288596501,900c87fbecff30108f627adb9c606ae7:-368301622,e94bc7bb46ff3010e0493a63ffa58c31:1902303465,c8c1ac3772f33010c37965520f4a469c:1090904063,77716c3725f330106b6a77d5590d5b25:1278837725,f561a83768f330109896ac6d1896502e:-351784670,1131283712f330108e047d63284d6e29:963513939,2911e43700f33010f4f46176170fc036:1278837725,bcb0203759f330100dac51e51b720d2e:1701175113,2b1068f34df330106d16415b72930910:-1058814558,a5ff54f3faf3301044cff3d86d9e7f99:-50861725,58df9cb3a9f33010f02e57837642c5bc:-648457597,705f5cb36ef330107afc7b9614038c3c:1521192117,1f3f18b306f330100a5325cb640a50f6:1086461653,a95e1c73a8f330105421319486c84bdd:-620164660,821ed873c8f330101f7e848680fb8756:1841550381,888a50bf39b33010372784e47b984149:2053621609,7b59d87faab330100fadab27f12b66af:843013858,9649587f8cb330109e04630b7f714073:-1400760702,7919947f44b330101acf3172409789cd:-1334065999,22789c3f09b33010e4b6fe6d27fc3d55:1148828360,4df594bb01b33010181cc0db4b24a0b3:-233320001,f22550bb03b330108a1a47a53a3d128e:-1672433482,5163d83b51b3301056884a55cd0f0717:-13716138,a723d8f702b33010ad489df58e373622:1352598170,782258f7a0b33010166968337e2459cc:1094392602,fc0294f7b2b3301016c799377d4dd921:-1849938792,39d190f78eb330107d5da1600224dc61:-1101993140,c89190f7adb33010048dffce6a44d94d:-101745014,40411cb73cb33010554ecf14b7edc887:-502555967,d6e094b74db33010a371829dac6f713b:-1579334870,95b010b715b3301019e131bf3b86bdb3:-528545509,a740107777b3301008adc7e22e83a4dd:1754503314,061f0077c0b33010ee2ec3f2e1a82a0f:2054330836,eaae003765b3301002e39e47284adb1b:6093205</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="">870d48164fb00810ff6ab8de9310c78e</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_0e87d1082fc4411070123f96f699b6c7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GET Update Sets&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	// adding to update set
	var updateSetQuery = new global.GlideQuery('sys_update_set')
		.where('state', 'complete')
		.where('sys_created_by', 'admin')
		.select()
		.toArray(100);
	
	response.setBody(updateSetQuery);

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/352714/update_sets/retrieve_update_sets&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/retrieve_update_sets&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-21 02:08:37&lt;/sys_created_on&gt;&lt;sys_id&gt;0e87d1082fc4411070123f96f699b6c7&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;GET Update Sets&lt;/sys_name&gt;&lt;sys_package display_value=""&gt;870d48164fb00810ff6ab8de9310c78e&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value=""&gt;870d48164fb00810ff6ab8de9310c78e&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_0e87d1082fc4411070123f96f699b6c7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-21 03:09:01&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="Update Sets"&gt;4a5cc8ff2f73301070123f96f699b6da&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>528135179</payload_hash>
<remote_update_set display_value="Random Update Set">fec1b6352f91011070123f96f699b6b2</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>tyler.parmelee</sys_created_by>
<sys_created_on>2022-01-27 22:27:42</sys_created_on>
<sys_id>f6c1b6352f91011070123f96f699b6b3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4077ee100000001</sys_recorded_at>
<sys_updated_by>tyler.parmelee</sys_updated_by>
<sys_updated_on>2022-01-27 22:27:42</sys_updated_on>
<table/>
<target_name>GET Update Sets</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>ac16a944d60841103d2d36ec3ed37991</update_guid>
<update_guid_history>ac16a944d60841103d2d36ec3ed37991:528135179,107911482cc4411003f5439edbbbdd47:78185187,3f38dd081cc4411055544af395b6e2e9:-1961683810</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>